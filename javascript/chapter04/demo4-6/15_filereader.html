<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>filereader</title>
</head>

<body>
  <input type="file" id="uploadText">
  <script>
  // 参考链接：https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader#readAsText()
  var oFReader = new FileReader()

  oFReader.onload = function (oFREvent) {
    console.log(oFREvent.target.result);
  }

  function loadTextFile() {
    // 判断用户是否选中了文件
    if (document.getElementById("uploadText").files.length === 0) {
      return console.log('用户没有选中任何文件');
    }

    // 读取input为type的控件中的文件对象
    var oFile = document.getElementById("uploadText").files[0];

    // 用于校验用户选中的是否是我们想要的类型文件
    // if (!rFilter.test(oFile.type)) {
    //   alert("You must select a valid image file!");
    //   return;
    // }

    oFReader.readAsText(oFile)
  }
  </script>
</body>

</html>
